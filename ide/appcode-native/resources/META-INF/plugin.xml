<idea-plugin xmlns:xi="http://www.w3.org/2001/XInclude">
  <xi:include href="/META-INF/KonanCommonPlugin.xml" xpointer="xpointer(/idea-plugin/*)"/>

  <id>org.jetbrains.kotlin.native.appcode</id>
  <name>Kotlin/Native for AppCode</name>
  <!--version_placeholder-->
  <vendor>JetBrains</vendor>

  <!--idea_version_placeholder-->

  <description>Plugin for Kotlin/Native support in AppCode</description>

  <change-notes/>

  <depends>com.intellij.modules.appcode</depends>
  <!--java_plugin_dependency-->

<!--  <extensions defaultExtensionNs="org.jetbrains.kotlin.native">-->
<!--    <gradleLauncherProvider implementation="org.jetbrains.konan.gradle.execution.AppCodeGradleKonanLauncherProvider"/>-->
<!--  </extensions>-->

  <extensions defaultExtensionNs="com.intellij">
<!--    <configurationType implementation="org.jetbrains.konan.tests.AppCodeKonanTestRunConfigurationType"/>-->

    <lang.documentationProvider language="kotlin" implementationClass="org.jetbrains.konan.documentation.KonanXcodeDocumentationProvider"/>
    <projectService serviceImplementation="org.jetbrains.konan.resolve.KonanBridgeFileManager"/>
    <projectService serviceImplementation="org.jetbrains.konan.resolve.KotlinModificationCount"/>

    <referencesSearch implementation="org.jetbrains.konan.findUsages.KotlinFunctionOCUsagesSearcher"/>
    <referencesSearch implementation="org.jetbrains.konan.findUsages.KotlinOCUsageSearcher"/>

  </extensions>

  <extensions defaultExtensionNs="appcode">
    <xcodeTemplatePathsProvider implementation="org.jetbrains.konan.AppCodeKonanTemplatesProvider"/>
    <xcodeExternalBuildProvider implementation="org.jetbrains.konan.gradle.execution.AppCodeGradleKonanExternalBuildProvider"/>
  </extensions>

  <extensions defaultExtensionNs="cidr.lang">
    <symbolTableProvider implementation="org.jetbrains.konan.resolve.KonanBridgeSymbolTableProvider" order="before OCSymbolTableProvider"/>
    <symbolTableProvider implementation="org.jetbrains.konan.resolve.KotlinSymbolTableProvider"/>
    <customHeaderProvider implementation="org.jetbrains.konan.resolve.KonanFrameworkHeaderProvider"/>
  </extensions>

  <application-components>
    <component>
      <interface-class>com.jetbrains.konan.KonanIconProvider</interface-class>
      <implementation-class>org.jetbrains.konan.AppCodeNativeIconProvider</implementation-class>
    </component>
  </application-components>

  <project-components>
    <component>
      <implementation-class>org.jetbrains.konan.internal.AppCodeGradleKonanProjectAttacher</implementation-class>
    </component>
  </project-components>

</idea-plugin>
